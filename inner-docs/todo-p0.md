==========

autoGetId - в вывод об компоненте.

get - для ExtJs должна дождаться Url и дождаться всех Ajax вызовов.

Что за id в treeModel?
  
Клик на элементе в дереве.


Должен ли node id быть уникальным.

treeStore. filter ?
cascadeBy
findChildBy
child.data.text



var rn = panel.getRootNode() - какого типа return value?
var c = rn.findChild("text","Also ASP.net",true); // Возможно ищет только в экспанднутом дереве?
c.expand();

а ещё есть node id и есть getNodeById.

TODO: в исследовалке показывать id нода дерева, на котором стоит курсор мыши.

грид имеет метод filter.

Можно ли rootNode взять у View не поднимаясь до panel.

```js

  var panel = me.up('panel'),
                    rn = panel.getRootNode(),
                    regex = new RegExp("ASP.net");

  rn.findChildBy(function (child) {
                    var text = child.data.text;
                    if (regex.test(text) === true) {
                        console.warn("selecting child", child);
                        panel.getSelectionModel().select(child, true);
                    }
                });
```

http://victorbarzana.blogspot.ru/2012/11/recursively-search-in-extjs-tree.html
https://gist.github.com/colinramsay/1789536

Ext.data.TreeStore - есть filters в конфигах.


Ф-я для считывания элемента дерева по индексам. Клика по индексам.
Ф-я для поиска элемента дерева по тексту, экспанда, если надо и клика.

Там какие-то Path должны быть для деревьев.

Перелопатить опять View, Panel, Model, NodeInterface.


Перед считыванием грида проверять его "готовность", м.б. он в процессе обновления.

Применить функционал опций.

Отфильтровать в дереве только нужное.

Сделать какой-то тест на распечатку содержимого деревьев или таблиц.

==========

cmd line option.

--ext-log
external log.
Removed before each test and added to test log after test.

2h

==========

?? Поддержать разные логи для одного теста.
Например, если меняются локали.

==========

Просто ф-я для распечатки объекта в лог.

Тест поддержки массивов в equalDeep.

cmd line параметр для подключения внешних файлов к тестам.
Перед каждым тестом все эти файлы удаляются.
После каждого теста - их содержимое прибавляется к логу теста.

==========

1.5h
Сделать преобразователь опций небраузерного API в опции браузерного API.
Т.е. объект должен стать кодом объекта.
С учетом вложенности.
Наверное, пока можно без массивов.

+
Функционал для опциональных значений.
Ф-я, на вход берет объект и объект с дефолтными значениями,
а на выходе объект с дефолтными значениями, где некоторые значения переопределены.

Мержилка чего-то в дефолтный объект.

function

==========

1.5h
Первый запуск дает DIF_FROM_PREV.
NO_PREV - если нет предыдущего *.mlog.

2h
Сделать опцию, которая отключает сравнение с предыдущим *.mlog.
Т.е. чтобы этой строки вообще не было в заголовке лога.

==========

2h.

В tia сделать опцию - подключать такой-то файлик к аттачменту почты.
(Нужно для лога коммитов).

==========

2h
Автор говорит, что jsdiff должен поддерживать utf8, перейти на jsdiff.
Поисследовать юникодные дифы.

==========

6h.
Добавить поддержку тэгов в тестах.
id, автоматизирован ли тест, приоритет.
Дать возможность гонять тесты только с определенными тегами.
Дать возможность просматривать список тестов с определенными тегами.

Можно сделать рядом с каждым тестом (js файлом) - файл с информацией о тесте.
В частности и с тегами.
Ещё там могут быть зависимости, какие-то пререквизиты, может быть ссылка на номер бага в Jira, и т.д.
В общем, любая доп. инфа по тесту.

* Ввести этот файл.
* Ввести поддержку какие тэги гонять, а какие-нет (символ !) в коммандной строке.
* Читать файл перед тестом, и принимать решение гонять или нет.

Сюда же можно добавить среднее время прохождения теста.

А в командную строку можно добавить опцию, при каком отклонении от среднего времени выдавать ворнинг.

==========

Проверить, посылаются ли на мейл скриншоты.

==========

Допереводить конфиги.
Убрать все русские комменты в коде.

==========

? Запускать тесты даже если нет изменений, для поиска спорадических багов.

Придумать механизм (наверное, передача параметров как объекта),
когда посылаю отдельно текст для поиска и текст для лога.
Это может быть какой-то хитрый CSS vs user-friendly текста для лога.

Потестить Exceptions во wrap.
А может целый тест на initBrHelpers().

Ещё можно тест на initExtJsBrHelpers() - это на R-Vision тестах.
Хотя, могу сделать своё ExtJs приложение, у них вроде для openSource лицензия есть.

===========

Показывать/перемещать курсор мыши при selenium тестах.
Опцией это сделать, чисто для демонстрации.

===========

Поналяпать всяких waitAndClick
Или даже просто добавить во все наши акшны - wait элементов.
А может ввести в конфиге флаг - ждать / не ждать.
Или ввести таймаут у ф-й, если не 0 (по умолчанию) - ждать.

--attach-to-email
Позволяет приаттачить к мейлу файлы, разделенные запятыми.

зачем я в URL употребляю $(host).
Может быть всегда его подразумевать?

==========

Попробовать ускорить логин, за счет предустановленных профайлов.
Не знаю нужно ли тут убивать логин.
Он, вроде, у меня автоматом убивается при hl login.
Но вообще нужно сделать режим, чтобы и без логина заходилось, если явно он не требуется тестом.

==========

Подсветить в консольном металоге.
EDIF
Fail

Подсветить трейсинг разными цветами.
3й темный, 2й посветлее. 1й - нормальным цветом.
А может быть весь трейсинг потемнее.

==========

? Подсветить хелп.

==========

?
Ожидаемые exception нужно превратить в pass строчки логов.
И они не должны попадать в консоль.
М.б. какой-нить expectException - в ассершнах.
без --debug-max или --err-to-console.

==========

Сделать возможность просматривать дифы простой командой tia.js diff_number.

==========

Добавить побольше разных assertions.
Задокументировать и структурировать все ф-и.
* ф-и для логирования.
* assertions
* actions

? Ещё структурировать assertions.
Получше изучить что есть в assertions из selenium testing, node.js, tape, mocha, chai, jasmine.
Добавить на основе этого ещё assertions.

==========

Написать побольше оберток на разные действия с элементами.

==========

? Может быть на все экшны сделать опциональное msg, которое перегружает путь поиска элемента,
который может меняться.

================================================

# Переделки в режимах запуска

Ввести команды:
tia <command> [options]

====

commands:

Опции, не используемые командой должны генерить - unknown option,
для повышение осознанности при пользовании движком.
Поэтому, сначала считываешь команду, затем задаешь параметры минимисту.

* run - прогнать тесты.

==

* init - создать шаблоны для рутовых конфигов там, куда указывают --cfg-dir TIA_CONFIG_DIR.
Если их нет - в current working dir.
Если конфиги уже есть: ругаться, и ничего не делать.
Копировать:
* config/default-dir-config.js -> config.js
* default-suite-config.js -> suite-config.js

====

Соответственно поменять хелпы в tia и tia-tests.

================================================

Большая проблема - хреновый call stack от Selenium WebDriver при ошибках - есть описание ошибки,
но нет нормального колл - стэка, т.к. у драйвера какая-то своя очередь.
Поисследовать это.

================================================

Ещё раз поревьюить код. Задокументировать все JSDoc ом.
inspect all files (JsHint, JsCs).
Пробежаться по TODO в самом коде.

Написать тесты на каждую ф-ю. Проверить каждый параметр конфига и каждую cmd line опцию.

Поисследовать разные режимы дифф - утилит.
Подсвеченные дифы в консоль.
Дифы где показаны измененные куски.

================================================

WebStorm все-таки плохо поддерживает autocomplete.
Надо typings спецификацию сделать.
А может посмотреть как работает Visual Studio Code.

===========

Команда для очистки тестовой директории.

Удаляет все `*.log, *.dif`.

===========      

Сейчас есть шанс, что профайлы повторяются.
Может быть это и нормально, но нужно задокументировать.

===========

Проверить на виндах, что tia --help сработает, т.е. что --harmony сработает.

===========

* Добавить ошибку, что нет настроек для мейла, если мейл используется.

===========

Однозначно в log-viewer сделать возмжожность смотреть скриншоты.
Пилить хороший log-viwer.
Пилить поддержку всяких CI.

Автоматизировать всякие git blame.

===========

Поизучать sencha cmd с целью выжать какую-то производительность.
А может и параметры, управляющие генерацией всяких id шников.

=============

Post answers here with link to my tia engine (after adding more meat (assertions, selenium wrappers, extjs stuff)
to the engine):
http://stackoverflow.com/questions/8344776/can-selenium-interact-with-an-existing-browser-session
http://sqa.stackexchange.com/questions/1988/selenium-reuse-existing-browser-session-instead-of-opening-new-windows

=============

Разбивать трейсинг не только по уровню, но и по контексту.
Т.е. от каких функциональностей он нужен, а от каких - нет.
--trace-ctx dirWalker, rmDriver, etc.
gIn.tracer.traceI(msg, ctx);
if (ctx in traceCtx).
(indexOf ?).
Если нет --trace-ctx - трейсить все.
Отсортированный массив, оптимизированный поиск.

```js
/**
 * Performs a binary search on the host array. This method can either be
 * injected into Array.prototype or called with a specified scope like this:
 * binaryIndexOf.call(someArray, searchElement);
 *
 * @param {*} searchElement The item to search for within the array.
 * @return {Number} The index of the element which defaults to -1 when not found.
 */
function binaryIndexOf(searchElement) {
    'use strict';
 
    var minIndex = 0;
    var maxIndex = this.length - 1;
    var currentIndex;
    var currentElement;
 
    while (minIndex <= maxIndex) {
        currentIndex = (minIndex + maxIndex) / 2 | 0;
        currentElement = this[currentIndex];
 
        if (currentElement < searchElement) {
            minIndex = currentIndex + 1;
        }
        else if (currentElement > searchElement) {
            maxIndex = currentIndex - 1;
        }
        else {
            return currentIndex;
        }
    }
```

=============


=============

log as overriding Executor.execute function?
So I can track all selenium commands and their parameters.
  
=============

? Выводить diff mlogа to console.
for et and for prev.

Сделать обертку на все ф-и, могущие кинуть исключение.
Может быть это поможет лучше отлаживаться.
А то selenium execute flow никакой инфы не говорит.
М.б. где-то это настраивается?

Ошибки в скриптах внутри браузера.
М.б. то, что перехватил в unhandled exceptions - распечатывать.
Только фигово, что на самом деле скрипта нет, есть исполненная разок ф-я.
