http://seleniumhq.github.io/selenium/docs/api/javascript/module/selenium-webdriver/lib/webdriver_exports_Logs.html
webdriver.manage().logs()
get(type) 
getAvailableLogTypes()

http://seleniumhq.github.io/selenium/docs/api/javascript/module/selenium-webdriver/lib/webdriver_exports_Timeouts.html
webdriver.manage().timeouts()
implicitlyWait(ms) - 0 by default.
pageLoadTimeout(ms)
?? какое дефолтное значение ??
setScriptTimeout()

Актуальные capabilities:
http://seleniumhq.github.io/selenium/docs/api/javascript/module/selenium-webdriver/lib/webdriver_exports_WebDriver.html#getCapabilities

===================

executeAsyncScript - подумать как применять.

===================

Можно ли в вейт кондишне ждать либо одного либо другого.
Если что - нужно написать такую ф-ю.

Убедиться, что два init - это нормально.

===================

get - для ExtJs должна дождаться Url и дождаться всех Ajax вызовов.

===================

Выделить из браузерного API get чего-то?

===================

Вкомбинировать ремоутный драйвер и --keep-browser... в одну опцию.
И по ней в тестах разводить код на исследовательский и боевой.
В общем, сделать, чтобы переключение между боевым и тестовым режимом было только за счет опции.
--ignore-quit ?

===================

Однообразные сепараторы для content и для exploration, чтобы тестописатели привыкали.

===================

API для получения значения из контрола.
По id формы и имени контрола.
3 вида значений.
(Нужно искать контрол через name)

// TODO: form.down('[fieldLabel=Тип риска]').inputEl

У ExtJs есть более нативный метод поиска по name.

=====================    

API для помещения значения в textBox (sendKeys).
Имя филда и label в лог при клике или при sendKeys.

=====================    

API для кликов по checkbox и по radiobutton.
Имя филда и label в лог при клике.

=====================    

API для нажатия на ExtJs кнопки.
API для кликов по checkbox и по radiobutton.
Имя филда и label в лог при клике.

=====================    

API для вытягивания ошибок в формах.

=====================    

Выводить версию tia и chromedriver в заголовок мейла.

===================

Дополнительный файл, где будут логи и трейсинг.
Чтобы отделить вывод tia от вывода сервера.

===================

Аттачить внешний лог к письму, если он есть.

===================

Кастомный префикс для subj email логов?
Чтобы различать тесты разного вида.

===================

Тихие assertions?
Т.е. без логирования в случае успеха.
a.sP - сделать тест на них.

===================

Довести работу с проверкой чекбокса и enabled/disabled до ума.
Чтобы в итоге показывался только результат проверки.
Или хотя бы явно показывался результат поверки.
И чтобы pass инкрементировался на 1.

===================

Для ускорения работы с формой.
setCurrentForm.
И API без обращения к formId.
И без распечатки formId.

===================

chromedriver.isRunning()

===================

Ввести dotenv настройки.
А константы - это будут значения по-умолчанию.

Команда для вывода значений конфигов.

===================

Сделать тест на соответствие promiseA+.

Проверить consume, что она действительно перехватывает throw, и что при reject она вернет reject а не сделает throw.

===================

Отделение команд run/update и ещё каких-нибудь. И выпуск 1.0 версии.

===================

Трейсинг с потреблением памяти.
Трейсинг доступных ресурсов по памяти и по диску.
Трейсинг индекса загруженности процессора.
По какому-то таймеру ? setInterval ?
А может просто при трейсинге ошибки?

===================

Запоминать подробнейшие логи всех типов для последней команды. Но показывать только в случае ошибки.
(это не касается браузера, это про трейсинг от самого webdriver'а)
driver.manage().logs().get(gT.sOrig.wdModule.logging.Type.BROWSER)

===================

Функциональность по прогону только тех тестов, где есть дифы.

======================

Посмотреть параметры этих функций, чтобы понять что в сорцах нужно менять:

* Ext.define
* Ext.create

Поддерживают ли обе эти ф-и id, reference, itemId ?

Интересно, что если я добавлю уже существующее имя reference ?

===================

Для табов - распечатка текста на табе.

===================

Поиск по референсу:

lookupReferenceHolder().lookupReference('form')
lookupReference - напрямую сработает у вьюхи, которой принадлежит контроллер.

===================

Отдельно инфо о компоненте формы.
logFormFieldInfo(formId, name, printContent);

===================

drop down menus in grid headers.

?? Что такое group header and sub headers?

===================

Может быть попробовать flow.reset ?
Правда у меня весь тест состоит из yield.
Тогда почему такие большие цепочки в очереди?

===================

Как бы нормально посмотреть состояние очереди.
Поменьше анонимных функций. Чтобы в стэке была информация.

======================

API для работы с деревом внутри комбобокса.

======================

Обернуть в try / catch все, что я ставлю в очередь на выполнение webdriver'ом.

======================

Что за свойство: config.

======================

Ext.mixin.Observable
Ext.EventManager
Что насчет preventDefault, stopPropagation?

Ext.Class
Ext.Base

Скроллинг клавиатурой по messageBox.

=====================

Почитать про Base Config, есть ли там мысль, что конфиги отражаются на свойства.
Есть мысль, что есть автогенеренные геттеры и сеттеры, видимо, для каждого ожидаемого конфига.
Проверить.

=====================

Внести/задействовать в распечатку компонента параметр - объект с опциями
- что печатать, а что нет.
Все-таки привести исследовалку к виду, когда она будет
обозначать путь поиска элемента. Т.е. строку, которую можно скопи-пастить в код теста.
М.б. сделать фильтрацию в уже готовом массиве? .filter.

=====================

Есть ли в ExtJs компоненте информация из какого он сорца?
Может быть у ExtJs есть особый режим, в котором это показывается?

? Заменить initialConfig на getInitialConfig() ?

======================

Тест для всех видов API.
В том числе и для кликов по табам.
При кликах по табам - включить ожидание завершения AJAX вызовов в API.

======================

Попробовать использовать исследовательские скрипты в разработке / отладке.
Перенести код установки хэндлеров в браузерную часть.

======================

Прочитать доки про другие элементы управления.

======================

API для кликов по табам - поревьюить существующее и добавить, если чего-то не хватает.

======================

?? API, чтобы убедиться, что в дереве, таблице, комбобоксе (или другом пикере) есть определенный набор значений (и без разницы что там есть ещё).

======================

Подумать как перевести на TypeScript, можно ли переводить частично.
Как ставятся TypeScript npm модули.

======================

Потестить API для кликов для таблиц, в которых модель распространяется не на все поля.

======================

API для работы со столбцами в таблицах.
Индекс строки, индекс столбца.

======================

В гридах и в Store глянуть отдельную ф-ю для поиска по id.

Получше отформатировать строку о записи в исследовалке.
Сделать режимы подробности вывода инфы,
в идеале в этом же диалоге в виде чекбоксов :).

======================

?? API для диалогов.

======================

?? API для проверки выделен ли заданный элемент.
isSelected ( node ) : Boolean 

======================

?? API для работы с Menu.

======================

?? API для поиска.
Элемент по name.
?? по label?
??? Найти элемент по ключу локали для метки.

======================

?? При работе с деревьями - сделать автоэкспанд перед кликом.
?? При работе с таблицами - тоже.

======================

Перечитать ещё раз эти доки:

http://docs.sencha.com/extjs/5.1.2/Ext.ClassManager.html

http://docs.sencha.com/extjs/5.1/core_concepts/components.html
http://docs.sencha.com/extjs/5.1/core_concepts/layouts.html
http://docs.sencha.com/extjs/5.1/application_architecture/application_architecture.html
http://docs.sencha.com/extjs/5.1/components/forms.html

В общем ещё раз пройтись по Guides с углубленным пониманием.

======================

focusRow
focusNode
focusCell
getNode

В исследовалке выводить имена полей модели компонента.

При серьезных ошибках с закрытием браузера останавливать удаленный драйвер?

cmd line option - запускать chrome c detached debug window.

==========

treeStore.filter ?
cascadeBy
findChildBy
child.data.text

var rn = panel.getRootNode() - какого типа return value?
var c = rn.findChild("text","Also ASP.net",true); // Возможно ищет только в экспанднутом дереве?
c.expand();

а ещё есть node id и есть getNodeById.

грид имеет метод filter.

Можно ли rootNode взять у View не поднимаясь до panel.

```js

  var panel = me.up('panel'),
                    rn = panel.getRootNode(),
                    regex = new RegExp("ASP.net");

  rn.findChildBy(function (child) {
                    var text = child.data.text;
                    if (regex.test(text) === true) {
                        console.warn("selecting child", child);
                        panel.getSelectionModel().select(child, true);
                    }
                });
```

http://victorbarzana.blogspot.ru/2012/11/recursively-search-in-extjs-tree.html
https://gist.github.com/colinramsay/1789536

Ext.data.TreeStore - есть filters в конфигах.

Там какие-то Path должны быть для деревьев.

Перед считыванием грида проверять его "готовность", м.б. он в процессе обновления.
isVisible, isExpanded - что-то такое.

==========

?? Поддержать разные логи для одного теста.
Например, если меняются локали.

==========

Просто ф-я для распечатки объекта в лог.

Тест поддержки массивов в equalDeep.

cmd line параметр для подключения внешних файлов к тестам.
Перед каждым тестом все эти файлы удаляются.
После каждого теста - их содержимое прибавляется к логу теста.

==========

1.5h
Первый запуск дает DIF_FROM_PREV.
NO_PREV - если нет предыдущего ```*.mlog```.

2h
Сделать опцию, которая отключает сравнение с предыдущим ```*.mlog.```
Т.е. чтобы этой строки вообще не было в заголовке лога.

==========

2h.

В tia сделать опцию - подключать такой-то файлик к аттачменту почты.
(Нужно для лога коммитов).

==========

2h
Автор говорит, что jsdiff должен поддерживать utf8, перейти на jsdiff.
Поисследовать юникодные дифы.

==========

6h.
Добавить поддержку тэгов в тестах.
id, автоматизирован ли тест, приоритет.
Дать возможность гонять тесты только с определенными тегами.
Дать возможность просматривать список тестов с определенными тегами.

Можно сделать рядом с каждым тестом (js файлом) - файл с информацией о тесте.
В частности и с тегами.
Ещё там могут быть зависимости, какие-то пререквизиты, может быть ссылка на номер бага в Jira, и т.д.
В общем, любая доп. инфа по тесту.

* Ввести этот файл.
* Ввести поддержку какие тэги гонять, а какие-нет (символ !) в коммандной строке.
* Читать файл перед тестом, и принимать решение гонять или нет.

Сюда же можно добавить среднее время прохождения теста.

А в командную строку можно добавить опцию, при каком отклонении от среднего времени выдавать ворнинг.

==========

Допереводить конфиги.
Убрать все русские комменты в коде.

==========

? Запускать тесты даже если нет изменений, для поиска спорадических багов.

Придумать механизм (наверное, передача параметров как объекта),
когда посылаю отдельно текст для поиска и текст для лога.
Это может быть какой-то хитрый CSS vs user-friendly текста для лога.

Потестить Exceptions во wrap.
А может целый тест на initBrHelpers().

Ещё можно тест на initExtJsBrHelpers() - это на R-Vision тестах.
Хотя, могу сделать своё ExtJs приложение, у них вроде для openSource лицензия есть.

===========

Показывать/перемещать курсор мыши при selenium тестах.
Опцией это сделать, чисто для демонстрации.

===========

Поналяпать всяких waitAndClick
Или даже просто добавить во все наши акшны - wait элементов.
А может ввести в конфиге флаг - ждать / не ждать.
Или ввести таймаут у ф-й, если не 0 (по умолчанию) - ждать.

--attach-to-email
Позволяет приаттачить к мейлу файлы, разделенные запятыми.

зачем я в URL употребляю $(host).
Может быть всегда его подразумевать?

==========

Попробовать ускорить логин, за счет предустановленных профайлов.
Не знаю нужно ли тут убивать логин.
Он, вроде, у меня автоматом убивается при hl login.
Но вообще нужно сделать режим, чтобы и без логина заходилось, если явно он не требуется тестом.

==========

Подсветить в консольном металоге.
EDIF
Fail

Подсветить трейсинг разными цветами.
3й темный, 2й посветлее. 1й - нормальным цветом.
А может быть весь трейсинг потемнее.

==========

? Подсветить хелп.

==========

?
Ожидаемые exception нужно превратить в pass строчки логов.
И они не должны попадать в консоль.
М.б. какой-нить expectException - в ассершнах.
без --debug-max или --err-to-console.

==========

Сделать возможность просматривать дифы простой командой tia.js diff_number.

==========

Добавить побольше разных assertions.
Задокументировать и структурировать все ф-и.
* ф-и для логирования.
* assertions
* actions

? Ещё структурировать assertions.
Получше изучить что есть в assertions из selenium testing, node.js, tape, mocha, chai, jasmine.
Добавить на основе этого ещё assertions.

==========

Написать побольше оберток на разные действия с элементами.

==========

? Может быть на все экшны сделать опциональное msg, которое перегружает путь поиска элемента,
который может меняться.

================================================

# Переделки в режимах запуска

Ввести команды:
tia <command> [options]

====

commands:

Опции, не используемые командой должны генерить - unknown option,
для повышение осознанности при пользовании движком.
Поэтому, сначала считываешь команду, затем задаешь параметры минимисту.

* run - прогнать тесты.

==

* init - создать шаблоны для рутовых конфигов там, куда указывают --cfg-dir TIA_CONFIG_DIR.
Если их нет - в current working dir.
Если конфиги уже есть: ругаться, и ничего не делать.
Копировать:
* config/default-dir-config.js -> config.js
* default-suite-config.js -> suite-config.js

====

Соответственно поменять хелпы в tia и tia-tests.

================================================

Большая проблема - хреновый call stack от Selenium WebDriver при ошибках - есть описание ошибки,
но нет нормального колл - стэка, т.к. у драйвера какая-то своя очередь.
Поисследовать это.

================================================

Информация об элементе под курсором в статусе или во всплывающем исчезающем тултипе.
Хелп по командах исследования - Ctrl + Alt + H.

================================================

http://docs.sencha.com/extjs/5.1/core_concepts/localization.html

================================================

Ещё раз поревьюить код. Задокументировать все JSDoc ом.
inspect all files (JsHint, JsCs).
Пробежаться по TODO в самом коде.

Написать тесты на каждую ф-ю. Проверить каждый параметр конфига и каждую cmd line опцию.

Поисследовать разные режимы дифф - утилит.
Подсвеченные дифы в консоль.
Дифы где показаны измененные куски.

================================================

WebStorm все-таки плохо поддерживает autocomplete.
Надо typings спецификацию сделать.
А может посмотреть как работает Visual Studio Code.

===========

Команда для очистки тестовой директории.

Удаляет все `*.log, *.dif`.

===========      

Сейчас есть шанс, что профайлы повторяются.
Может быть это и нормально, но нужно задокументировать.

===========

Проверить на виндах, что tia --help сработает, т.е. что --harmony сработает.

===========

* Добавить ошибку, что нет настроек для мейла, если мейл используется.

===========

Однозначно в log-viewer сделать возмжожность смотреть скриншоты.
Пилить хороший log-viwer.
Пилить поддержку всяких CI.

Автоматизировать всякие git blame.

===========

Поизучать sencha cmd с целью выжать какую-то производительность.
А может и параметры, управляющие генерацией всяких id шников.

=============

Post answers here with link to my tia engine (after adding more meat (assertions, selenium wrappers, extjs stuff)
to the engine):
http://stackoverflow.com/questions/8344776/can-selenium-interact-with-an-existing-browser-session
http://sqa.stackexchange.com/questions/1988/selenium-reuse-existing-browser-session-instead-of-opening-new-windows

=============

Разбивать трейсинг не только по уровню, но и по контексту.
Т.е. от каких функциональностей он нужен, а от каких - нет.
--trace-ctx dirWalker, rmDriver, etc.
gIn.tracer.traceI(msg, ctx);
if (ctx in traceCtx).
(indexOf ?).
Если нет --trace-ctx - трейсить все.
Отсортированный массив, оптимизированный поиск.

```js
/**
 * Performs a binary search on the host array. This method can either be
 * injected into Array.prototype or called with a specified scope like this:
 * binaryIndexOf.call(someArray, searchElement);
 *
 * @param {*} searchElement The item to search for within the array.
 * @return {Number} The index of the element which defaults to -1 when not found.
 */
function binaryIndexOf(searchElement) {
    'use strict';
 
    var minIndex = 0;
    var maxIndex = this.length - 1;
    var currentIndex;
    var currentElement;
 
    while (minIndex <= maxIndex) {
        currentIndex = (minIndex + maxIndex) / 2 | 0;
        currentElement = this[currentIndex];
 
        if (currentElement < searchElement) {
            minIndex = currentIndex + 1;
        }
        else if (currentElement > searchElement) {
            maxIndex = currentIndex - 1;
        }
        else {
            return currentIndex;
        }
    }
}
```
=============

log as overriding Executor.execute function?
So I can track all selenium commands and their parameters.
  
=============

? Выводить diff mlogа to console.
for et and for prev.

Сделать обертку на все ф-и, могущие кинуть исключение.
Может быть это поможет лучше отлаживаться.
А то selenium execute flow никакой инфы не говорит.
М.б. где-то это настраивается?

Ошибки в скриптах внутри браузера.
М.б. то, что перехватил в unhandled exceptions - распечатывать.
Только фигово, что на самом деле скрипта нет, есть исполненная разок ф-я.

Selenium быстрее работает через id или через WebElement?

TODO: в тестах проставлять ID от тестлинко-подобных тулзов?
TODO: зависимости тестов.

Поотлаживаться на Windows.

Поотлаживаться на FireFox.
IE ??

Пройтись по TODO в коде.

=======================

Запинать все на Firefox и перейти на него при отладке.
Сравнить возможности отладочных тулзов при работе с WebDriver.

Вывод инфы о ячейках таблицы и о ячейках заголовка таблицы в исследовалке.

=======================

https://github.com/seleniumhq/selenium-google-code-issue-archive/issues/2766

Сделать список известных проблем с Selenium, который девелоперы могут смотреть в первую очередь.

Containers.js:
Разве reference можно задавать в Ext.define ??
А id ?

getIdByFn() : custom function to get id.
getCompByFn()

===================

Поотлаживать non clickable ?
Похоже элемент дергается, как раз после 5 секунд задержки.
Но может это связано с ошибкой.
А в test_production нет скроллбаров.
Элемент содержит рисунки 1х1.

===================

Более выразительные дифы.
Хорошо бы в logViewer сделать коллапсибельные дифы.

+/tmp - много профайлов браузеров ? Пока решил by rm -rf /tmp/.com.google.Chrome*.

===================

gT.suiteConfig.attachOnlyDiffs - в cmd line opts, пробежаться ещё по всяким константам и конфигам,
посмотреть что следует вынести в cmd line.

===================

Аргументы для внешних тулзов, которые подключаются через require.
Можно сделать отдельную строковую опцию, где можно задавать все такие аргументы.

===================

? Добавить сверку с эталонным скриншотом
Уровни похожести изображений?
Sikuli?


Добавить в хелп:
Мое API не поддерживает внутреннюю очередь, поэтому вся синхронизация делается с помощью yield.

===================

getCapabilities в трейс или в префикс письма.

===================

Присылать лог в html форме, с подсветками.
Конечные тесты могут быть гиперссылками на лог.
В металог идут дифы, поэтому пока что ссылка на диф ненужна.

===================

Обернуть вообще все вызовы в Execute, чтобы не париться с синхронизацией.
Будет возмжожность и юзать yield и then цепочки.

Если взять всю ф-ю, вместе с врапером в Execute, то не над act() выполнять в Execute.

act() - может возвращать не thenable ?

Это что:
http://seleniumhq.github.io/selenium/docs/api/javascript/module/selenium-webdriver/http/util.html#waitForServer


Проверить что будет в catch.
```js
flow.execute(function() {
  flow.execute(() => console.log('a'));
  flow.execute(() => throw new Error('asdf'));
}).catch(фыва);

```

Проверить пример

```js
var d1 = promise.defer();
d1.promise.then(() => console.log('A'));

var d2 = promise.defer();
d2.promise.then(() => console.log('B'));

flow.execute(function() {
  d1.promise.then(() => console.log('C'));
  flow.execute(() => console.log('D'));
});
flow.execute(function() {
  flow.execute(() => console.log('E'));
  flow.execute(() => console.log('F'));
  d1.fulfill();
  d2.fulfill();
}).then(function() {
  console.log('fin');
});
// D
// A
// C
// B
// E
// F
// fin

```

